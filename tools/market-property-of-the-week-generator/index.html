<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PV Scottsdale | Market Property of The Week Generator</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/custom.css" />
    <script src="js/vendor/modernizr.js"></script>
  </head>
  <body>
    
    <div class="row">
      <div class="large-12 columns">
        <h1>Market Property of The Week Generator</h1>
        <p>Fill in the fields below to generate the HTML code to copy/paste into your Wordpress page!</p>
      </div>
    </div>

        <div class="row">
      <div class="large-12 medium-12 columns">
        <h3>Needed fields for reference:</h3>
        <ul>
          <li>Price</li>
          <li>Address</li>
          <li>MLS #</li>
          <li>Description</li>
          <li>Feature List</li>
        </ul>
        <form data-abide>
          <div class="row">
          <div class="row">
            <div class="medium-2 columns">
              <label>Price <small>required</small>
                <input type="text" placeholder="$1,500,000" required pattern="commas_only" />
              </label>
              <small class="error">Price is required <br />(ex: $1,500,000)</small>
            </div>
            <div class="medium-2 columns">
              <div class="row collapse">
                <label>MLS # <small>required</small>
                  <input type="number" placeholder="4989803" required pattern="integer" />
                </label>
              <small class="error">MLS # is required<br />(ex: 4989803)</small>
              </div>
            </div>
            <div class="medium-8 columns">
              <label>Address <small>required</small>
                <input type="text" placeholder="123 Fake ST Phoenix, AZ 85029" required />
              </label>
              <small class="error">Address is required</small>
            </div>
          </div>
          
          <div class="row">
            <div class="medium-12 columns">
              <label>Description
                <textarea></textarea>
              </label>
            </div>            
          </div>

          <div class="row">
            <div class="medium-6 columns">
              <label>Feature List</label>
                <div id="feature-rows">
                  <div class="row collapse feature-row">
                    <div class="small-1 columns">
                      <span class="prefix">
                        <a href="#" class="move-row-up" title="Move this feature up one position"><i class="fa fa-arrow-up"></i></a>
                      </span>
                    </div>
                    <div class="feature-row small-10 columns">
                      <input type="text" placeholder="Feature" name="feature-list[]" />
                    </div>
                    <div class="small-1 columns">
                      <span class="postfix remove-row-wrapper">
                        <a href="#" class="remove-row" title="Remove this feature"><i class="fa fa-times"></i></a>
                      </span>
                    </div>
                  </div>
                </div>
                <input id="addRow" data-rows="feature-rows" type="button" class="button" value="Add Another Feature" />
            </div>
          </div>
        </form>
      </div>
    </div>
    
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
      $(document)
        .foundation({
          abide : {
            patterns: {
              commas_only: /^\$(\d{1,3}(\,\d{3})*|(\d+))(\.\d{2})?$/
            }
          }
        });

      //function that adds row to a given "data-rows" ID
      $('#addRow').click(function(){
        var rowsID = '#' + $(this).attr('data-rows');

        var row = '<div class="row collapse feature-row"><div class="small-1 columns"><span class="postfix"><a href="#" class="move-row-up" title="Move this feature up one position"><i class="fa fa-arrow-up"></i></a></span></div><div class="feature-row small-10 columns"><input type="text" placeholder="Feature" name="feature-list[]" /></div><div class="small-1 columns"><span class="postfix remove-row-wrapper"><a href="#" class="remove-row" title="Remove this feature"><i class="fa fa-times"></i></a></span></div></div>';

        $(rowsID).append(row);

        return false;
      });

      //function that removes the selected row from #feature-rows
      $('#feature-rows').on('click', '.move-row-up', function(){
        var $currentFeatureRow = $(this).closest('.feature-row');
        var $previousFeatureRow = $currentFeatureRow.prev('.feature-row');

        if ($previousFeatureRow.length != 0) {
          $previousFeatureRow.before($currentFeatureRow);
        }

        return false;
      });

      //function that moves the selected row up one position
    </script>
  </body>
</html>
